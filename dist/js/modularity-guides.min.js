var ModularityGuides={};ModularityGuides=ModularityGuides||{},ModularityGuides.Content=ModularityGuides.Content||{},ModularityGuides.Content.Checkboxes=function(e){function t(){this.handleEvents(),this.contentToggleEngine()}return t.prototype.handleEvents=function(){e('input[type="checkbox"][data-mod-guide-relation]').on("change",function(t){var i=e(this).data("mod-guide-relation");i=i.split(","),e.each(i,function(t,i){var n=e('input[type="checkbox"][data-mod-guide-toggle-key="'+i+'"]');n.prop("checked",!n.prop("checked")).trigger("change")})}),e("[data-mod-guide-toggle-key]").on("change",function(e){this.contentToggleEngine()}.bind(this))},t.prototype.contentToggleEngine=function(){var t=[],i=e("[data-mod-guide-toggle-key]");i.each(function(i,n){e(n).prop("checked")===!0&&t.push(e(n).attr("data-mod-guide-toggle-key"))}),e("[data-mod-guide-toggle-key-content]").each(function(i,n){var d=!1,o=e(n).attr("data-mod-guide-toggle-key-content");return o=o.split(","),e.each(o,function(e,i){var n=i.match(/(^|\+)([^\+\-]+)/g),o=new RegExp("\\b("+n.join("|").replace("+","")+")\\b","ig"),a=t.join(",").match(o),c=null!==a&&a.length===n.length,r=i.match(/\-([^\+\-]+)/g),u=!0;if(null!==r){var l=new RegExp("\\b("+r.join("|").replace("-","")+")\\b","ig"),s=t.join(",").match(l);u=!(null!==s&&s.length>0)}c&&u&&(d=!0)}),d===!0?void e(n).show():void e(n).hide()})},new t}(jQuery),ModularityGuides=ModularityGuides||{},ModularityGuides.Content=ModularityGuides.Content||{},ModularityGuides.Content.Todo=function(e){function t(){e("#modal-email-todo form").on("submit",function(t){t.preventDefault();var i=e(t.target).parents(".grid").first();if(""===i.find('textarea[name="g-recaptcha-response"]').val())return!1;e(this).find('input[type="submit"]').hide(),e(this).find(".modal-footer").append('<div class="loading"><div></div><div></div><div></div><div></div></div>');var n=i.first().find("table").clone();n.appendTo(document.body),n.find("tr").not(":visible").remove(),checklistHTML=n[0].outerHTML,n.remove(),checklist=encodeURI(checklistHTML);var d=i.find('textarea[name="g-recaptcha-response"]').val(),o={action:"email_todo",checklist:checklist,email:i.find('input[name="email"]').val(),captcha:d};return e.post(ajaxurl,o,function(e){i.find(".loading").remove(),i.find('input[type="submit"]').show(),"success"==e?i.after('<div class="grid"><div class="grid-md-12"><div class="notice success">'+guides.email_sent+"</div></div></div>"):i.after('<div class="grid"><div class="grid-md-12"><div class="notice warning">'+guides.email_failed+"</div></div></div>"),location.hash=""}),!1})}return new t}(jQuery);